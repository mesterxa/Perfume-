<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¹Ø·ÙˆØ± Ø§Ù„Ù†Ø®Ø¨Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
    <style>
        :root { --gold: #d4af37; --dark: #0f0f0f; --card-bg: rgba(31, 41, 55, 0.7); }
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Cairo', sans-serif; }
        body { background: var(--dark); color: white; overflow-x: hidden; }
        #particles { position: fixed; width: 100%; height: 100%; z-index: -1; }
        
        header { 
            padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; 
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); border-bottom: 1px solid var(--gold);
            position: sticky; top: 0; z-index: 100;
        }

        nav { display: flex; gap: 10px; flex-wrap: wrap; }
        nav button { 
            background: none; border: 1px solid rgba(212, 175, 55, 0.3); color: white; 
            padding: 8px 15px; border-radius: 8px; cursor: pointer; transition: 0.3s; font-size: 0.9rem;
        }
        nav button:hover { background: var(--gold); color: black; border-color: var(--gold); }
        .active-btn { background: var(--gold); color: black; }

        .dashboard-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px; padding: 40px 5%; max-width: 1200px; margin: auto;
        }

        .stat-card {
            background: var(--card-bg); padding: 30px; border-radius: 15px; border: 1px solid rgba(212,175,55,0.1);
            text-align: center; cursor: pointer; transition: 0.4s; backdrop-filter: blur(10px);
        }
        .stat-card:hover { transform: translateY(-10px); border-color: var(--gold); box-shadow: 0 10px 20px rgba(212,175,55,0.1); }
        .stat-card h3 { color: var(--gold); margin-bottom: 10px; }
        .stat-card i { font-size: 2.5rem; display: block; margin-bottom: 15px; }

        .logout-btn { color: #ff4d4d !important; border-color: #ff4d4d !important; }
        .logout-btn:hover { background: #ff4d4d !important; color: white !important; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .container { animation: fadeIn 1s ease; }
    </style>
</head>
<body>
    <div id="particles"></div>

    <header>
        <h1 style="color:var(--gold); font-size: 1.4rem;">ğŸ’ Ø¹Ø·ÙˆØ± Ø§Ù„Ù†Ø®Ø¨Ø©</h1>
        <nav id="mainNav">
            <button onclick="location.href='index.html'" class="active-btn">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <button onclick="location.href='sales.html'">ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</button>
            <button onclick="location.href='manage.html'">ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</button>
            <button onclick="location.href='expenses.html'">ğŸ“‰ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</button>
            <button onclick="location.href='reports.html'">ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
            <button id="logoutBtn" class="logout-btn">Ø®Ø±ÙˆØ¬</button>
        </nav>
    </header>

    <div class="container">
        <div style="text-align: center; margin-top: 40px;">
            <h2 style="font-size: 2rem;">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
            <p style="color: #aaa;">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø°ÙŠ ØªÙˆØ¯ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø¢Ù†</p>
        </div>

        <div class="dashboard-grid">
            <div class="stat-card" onclick="location.href='sales.html'">
                <i>ğŸ’¸</i>
                <h3>ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹</h3>
                <p>Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹ Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ®ØµÙ…Ù‡Ø§ Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</p>
            </div>

            <div class="stat-card" onclick="location.href='manage.html'">
                <i>ğŸ“¦</i>
                <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
                <p>Ø¥Ø¶Ø§ÙØ© Ø¹Ø·ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ§Øª</p>
            </div>

            <div class="stat-card" onclick="location.href='expenses.html'">
                <i>ğŸ“‰</i>
                <h3>Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</h3>
                <p>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±ØŒ Ø§Ù„Ø±ÙˆØ§ØªØ¨ØŒ ÙˆØ§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©</p>
            </div>

            <div class="stat-card" onclick="location.href='reports.html'">
                <i>ğŸ“Š</i>
                <h3>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h3>
                <p>Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆØ§Ù„Ø´Ù‡Ø±ÙŠØ©</p>
            </div>
        </div>
    </div>

    <script type="module">
        import { auth } from "./firebase-config.js";
        import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø© Ù…Ù† Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± Ø§Ù„Ù…ØµØ±Ø­
        onAuthStateChanged(auth, (user) => {
            if (!user) window.location.href = "login.html";
        });

        // Ø®Ø±ÙˆØ¬
        document.getElementById("logoutBtn").onclick = () => {
            if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ")) signOut(auth);
        };

        // Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª
        tsParticles.load("particles", {
            particles: {
                number: { value: 40 },
                color: { value: "#d4af37" },
                move: { enable: true, speed: 0.5 },
                size: { value: 1.5 },
                opacity: { value: 0.3 }
            }
        });
    </script>
</body>
</html>
